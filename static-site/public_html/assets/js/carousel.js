define([],function(){function e(e){function t(){C&&l(),E&&i(),g&&s(),b&&v(),n(_-1,-L.offsetWidth+"px","afterBegin"),B&&u(B)}function n(e,t,n){var l=L.querySelectorAll("."+T+" > ul li")[e];l.style.marginLeft=t,L.querySelector("."+T+" > ul").removeChild(l),L.querySelector("."+T+" > ul").insertAdjacentHTML(n,l.outerHTML)}function l(){var e=document.createElement("ul");e.classList.add(S),e.addEventListener("click",r.bind(this));for(var t=0;_>t;t++){var n=document.createElement("li");n.setAttribute("data-position",t),e.appendChild(n)}L.appendChild(e),a()}function a(){switch([].forEach.call(L.querySelectorAll("."+S+" li"),function(e){e.classList.remove("active")}),P){case-1:P=_-1;break;case _:P=0;break;default:P=P}L.className=y+" viewing-"+P,L.querySelectorAll("."+S+" li")[P].classList.add("active")}function r(e){"LI"===e.target.tagName&&u(e.target.getAttribute("data-position"))}function i(){var e=document.createElement("button");e.innerHTML=N,e.classList.add(x);var t=document.createElement("button");t.innerHTML=M,t.classList.add(A),e.addEventListener("click",d),t.addEventListener("click",f),L.appendChild(e),L.appendChild(t)}function s(){var e=document.createElement("button");e.innerHTML=k,e.classList.add(w),e.addEventListener("click",v);var t=document.createElement("button");t.innerHTML=H,t.classList.add(q),t.addEventListener("click",p),L.appendChild(e),L.appendChild(t)}function o(e){e.style.marginLeft=""}function c(e){e.style.marginLeft=-L.offsetWidth+"px"}function u(e){var t=P-e;if(0!==t)if(0>t)for(var n=0;-t>n;n++)f();else for(var l=0;t>l;l++)d()}function d(){p(),o(L.querySelectorAll("."+T+" > ul li")[0]),n(_-1,-L.offsetWidth+"px","afterBegin"),P--,C&&a(),setTimeout(v,4e3)}function f(){p(),c(L.querySelectorAll("."+T+" > ul li")[1]),n(0,"","beforeEnd"),P++,C&&a(),setTimeout(v,4e3)}function v(){I||(I=setInterval(f.bind(this),h))}function p(){clearInterval(I),I=null}function m(){return P}var L=document.getElementsByClassName(e.elem||"carousel")[0],y=L.className,b=e.autoplay||!1,h=e.interval||3e3,C=e.dots&&!0,E=e.arrows&&!0,g=e.buttons&&!0,T=e.crslClass||"carousel",x=e.crslArrowPrevClass||"arrow_prev",A=e.crslArrowNextClass||"arrow_next",S=e.crslDotsClass||"carousel__navigation",q=e.crslButtonStopClass||"btn_stop",w=e.crslButtonPlayClass||"btn_play",k=e.btnPlayText||"Play",H=e.btnStopText||"Stop",M=e.arrNextText||"&rsaquo;",N=e.arrPrevText||"&lsaquo;",_=L.querySelectorAll("li").length,B=e.initial>=_?_:e.initial,P=0,I=null;return _>1&&t(),{live:m,show:u,prev:d,next:f,play:v,stop:p}}return{carousel:e}});